{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getScore","n","setState","score","state","react_default","a","createElement","id","App_Game","fill","App_Score","Component","Game","_this2","setSvg","w","window","innerWidth","h","innerHeight","svg","update","$set","box","join","size","Math","sqrt","setCell","cell","x","y","setPaddles","depth","ready","paddles","length","top","bottom","left","right","pickPaddles","keys","printArr","min","max","undefined","arr","i","push","round","random","arrSum","reduce","b","on","display","setBall","ball","r","dx","dy","moveBall","bounce","pad","move","movePaddles","e","halfX","halfY","rightBound","lowerBound","clientX","clientY","touchPaddles","touches","setGame","sizeGame","setTimeout","handleClick","addEventListener","setInterval","nextProps","nextState","removeEventListener","clearInterval","s","width","height","viewBox","onClick","cx","cy","fillOpacity","Score","_this3","style","styles","fontSize","color","textAlign","zIndex","position","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.c1a46f94.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport update from 'immutability-helper'\r\nimport './App.css'\r\n\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\ngetScore = (n) => {\r\n  this.setState({ score : n })\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <span id=\"view\">\r\n        <Game fill='#eeeeee' score={this.getScore} />\r\n        <Score score={this.state.score} />\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      svg: {},\r\n      cell: {},\r\n      paddles: {\r\n        x: {\r\n          top: { display: 0 },\r\n          bottom: { display: 0 },\r\n        },\r\n        y: {\r\n          left: { display: 0 },\r\n          right: { display: 0 },\r\n        },\r\n      },\r\n      ball: {},\r\n    }\r\n  }\r\n\r\n  setSvg = () => {\r\n    let w = window.innerWidth, h = window.innerHeight\r\n    let svg = update(this.state.svg, {\r\n      w: {$set: w},\r\n      h: {$set: h},\r\n      box: {$set: [0, 0, w, h].join(' ')},\r\n      size: {$set: Math.sqrt( w*w + h*h )}\r\n    })\r\n    this.setState({ svg: svg })\r\n  }\r\n\r\n  setCell = () => {\r\n    let w = this.state.svg.w * .8, h = this.state.svg.h * .8\r\n    let cell = update(this.state.cell, {\r\n      w: {$set: w},\r\n      h: {$set: h},\r\n      x: {$set: (this.state.svg.w - w) / 2},\r\n      y: {$set: (this.state.svg.h - h) / 2},\r\n    })\r\n    this.setState({cell: cell})\r\n  }\r\n\r\n  setPaddles = () => {\r\n    let svg = this.state.svg, cell = this.state.cell,\r\n        size = 1/9, depth = svg.size/100,\r\n        ready = update(this.state.paddles, {\r\n          depth: {$set: depth},\r\n          x: {\r\n            length: {$set: svg.w * size},\r\n            top: {y: {$set: cell.y},},\r\n            bottom: {y: {$set: cell.y + cell.h - depth}, },\r\n          },\r\n          y: {\r\n            length: {$set: svg.h * size},\r\n            left: {x: {$set: cell.x},},\r\n            right: {x: {$set: cell.x + cell.w - depth},},\r\n          },\r\n        })\r\n    this.setState({paddles: ready})\r\n  }\r\n\r\n  pickPaddles = () => {\r\n    const printArr = (min, max) => {\r\n      max = max === undefined ? min : max\r\n      let arr = []\r\n      for (let i = 0; i < 4; i++) {\r\n        arr.push(Math.round(Math.random()))\r\n      }\r\n      let arrSum = arr.reduce( (a, b) => a + b )\r\n      return min <= arrSum && arrSum <= max ? arr : printArr(min, max)\r\n    }\r\n\r\n    // keys sets up \"level\" conditions based on score\r\n    let keys\r\n    if (this.state.score === ':(') {\r\n      keys = [0,0,0,0]\r\n    } else if (this.state.score < 2) {\r\n      keys = [0,1,0,0]\r\n    } else if (this.state.score < 5) {\r\n      keys = printArr(1)\r\n    } else if (this.state.score < 6) {\r\n      keys = printArr(2)\r\n    } else if (this.state.score < 7) {\r\n      keys = printArr(1, 2)\r\n    } else if (this.state.score < 15) {\r\n      keys = printArr(2, 3)\r\n    } else { keys = printArr(3, 4)}\r\n\r\n    let on = update(this.state.paddles, {\r\n      x: {\r\n        top: {display: {$set: keys[0] ? 1 : 0 },},\r\n        bottom: {display: {$set: keys[1] ? 1 : 0 },},\r\n      },\r\n      y: {\r\n        left: {display: {$set: keys[2] ? 1 : 0 },},\r\n        right: {display: {$set: keys[3] ? 1 : 0 },},\r\n      },\r\n    })\r\n    this.setState({paddles: on})\r\n  }\r\n\r\n  setBall = () => {\r\n    let svg = this.state.svg\r\n    let ball = update(this.state.ball, {\r\n      x: {$set: svg.w/2},\r\n      y: {$set: svg.h/2},\r\n      r: {$set: svg.size/100},\r\n      dx: {$set: svg.size/500},\r\n      dy: {$set: svg.size/500},\r\n      })\r\n\r\n    this.setState({ ball: ball })\r\n  }\r\n\r\n  moveBall = () => {\r\n\r\n    let cell = this.state.cell, ball = this.state.ball, bounce = ball,\r\n        pad = this.state.paddles, dx = ball.dx, dy = ball.dy, score = this.state.score\r\n\r\n    // if the ball hits a vertical wall\r\n    if ( ball.x + dx - ball.r < cell.x\r\n          || ball.x + ball.dx + ball.r > cell.x + cell.w) {\r\n      dx *= -1\r\n    // if ball hits horizontal wall\r\n  } else if (ball.y + dy - ball.r  < cell.y\r\n          || ball.y + ball.r + ball.dy > cell.y + cell.h ) {\r\n      dy *= -1\r\n    // if ball hits x paddle. paddle must be present.\r\n  } else if (( ball.y - ball.r + dy <= cell.y + pad.depth && pad.x.top.display > 0 )\r\n    || ( ball.y + ball.r + dy >= cell.y + cell.h - pad.depth && pad.x.bottom.display > 0 )) {\r\n    if (pad.x.x <= ball.x + ball.r + dx && ball.x - ball.r + dx <= pad.x.x + pad.x.length) {\r\n      dy *= -1\r\n      score += 1\r\n      this.props.score(score)\r\n      this.pickPaddles()\r\n    } else {\r\n      dy = 0\r\n      score = ':('\r\n      this.props.score(score)\r\n    }\r\n    // if ball hits y paddle. paddle must be present.\r\n  } else if (( ball.x - ball.r + dx <= cell.x + pad.depth && pad.y.left.display > 0 )\r\n    || ( ball.x + ball.r + dx >= cell.x + cell.w - pad.depth && pad.y.right.display > 0 )) {\r\n    if (pad.y.y <= ball.y + ball.r + dx && ball.y - ball.r + dy <= pad.y.y + pad.y.length) {\r\n      dx *= -1\r\n      score += 1\r\n      this.props.score(score)\r\n      this.pickPaddles()\r\n    } else {\r\n      dx = 0\r\n      score = ':('\r\n      this.props.score(score)\r\n    }\r\n  }\r\n\r\n    bounce = update(ball, {\r\n      dx: {$set: dx},\r\n      dy: {$set: dy},\r\n      })\r\n\r\n    let move = update(bounce, {\r\n      x: {$set: ball.x + ball.dx},\r\n      y: {$set: ball.y + ball.dy},\r\n      })\r\n\r\n    this.setState({ ball: move, score: score })\r\n  }\r\n\r\n  movePaddles = (e) => {\r\n    let cell = this.state.cell, pad = this.state.paddles,\r\n      halfX = pad.x.length / 2, halfY = pad.y.length / 2,\r\n      rightBound = cell.x + cell.w - halfX,\r\n      lowerBound = cell.y + cell.h - halfY,\r\n      x = e.clientX, y = e.clientY;\r\n\r\n    x = x < cell.x + halfX ? cell.x : x > rightBound ? rightBound - halfX : x - halfX\r\n    y = y < cell.y + halfY ? cell.y : y > lowerBound ? lowerBound - halfY : y - halfY\r\n\r\n    let move = update(pad, {\r\n      x: {x: {$set: x }},\r\n      y: {y: {$set: y }},\r\n    })\r\n    this.setState({ paddles: move })\r\n    return false\r\n  }\r\n\r\n  touchPaddles = e => {\r\n    let cell = this.state.cell, pad = this.state.paddles,\r\n      halfX = pad.x.length / 2, halfY = pad.y.length / 2,\r\n      rightBound = cell.x + cell.w - halfX,\r\n      lowerBound = cell.y + cell.h - halfY,\r\n      x = e.touches.clientX, y = e.touches.clientY;\r\n\r\n    //x = x < cell.x + halfX ? cell.x : x > rightBound ? rightBound - halfX : x - halfX\r\n    //y = y < cell.y + halfY ? cell.y : y > lowerBound ? lowerBound - halfY : y - halfY\r\n\r\n    let move = update(pad, {\r\n      x: {x: {$set: x }},\r\n      y: {y: {$set: y }},\r\n    })\r\n    this.setState({ paddles: move })\r\n    return false\r\n  }\r\n\r\n  setGame = () => {\r\n    this.props.score('hit the ball')\r\n    this.setState({score: 0})\r\n    this.sizeGame()\r\n  }\r\n\r\n  sizeGame = () => {\r\n    this.setSvg()\r\n    setTimeout(this.setCell)\r\n    setTimeout(this.setBall)\r\n    setTimeout(this.setPaddles, 1)\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.state.score === 'x' ? this.setGame() : this.pickPaddles()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setGame()\r\n    window.addEventListener('resize', this.sizeGame)\r\n    window.addEventListener('mousemove', this.movePaddles)\r\n    window.addEventListener('touchmove', this.touchPaddles)\r\n    window.setInterval(this.moveBall, 10)\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    return this.state !== nextState\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.score === ':(') {\r\n      this.pickPaddles()\r\n      this.setState({score: 'x'})\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.sizeGame)\r\n    window.removeEventListener('mousemove', this.movePaddles)\r\n    window.removeEventListener('touchmove', this.touchPaddles)\r\n    window.clearInterval(window.setInterval(this.moveBall, 10))\r\n  }\r\n\r\n  render() {\r\n    let s = this.state\r\n    let pad = this.state.paddles\r\n    return(\r\n      <svg\r\n        width={ s.svg.w } height={ s.svg.h }\r\n        viewBox={ s.svg.box } onClick={ this.handleClick }\r\n         >\r\n        <rect id='cell'\r\n          width={ s.cell.w } height={ s.cell.h }\r\n          x={ s.cell.x } y={ s.cell.y } />\r\n\r\n        <circle id='ball'\r\n          cx={ s.ball.x } cy={ s.ball.y }\r\n          r={ s.ball.r } fill={ this.props.fill } />\r\n\r\n        <rect id='paddleXT'\r\n          width={ pad.x.length } height={ pad.depth }\r\n          x={ pad.x.x } y={ pad.x.top.y }\r\n          fill={ this.props.fill } fillOpacity={ pad.x.top.display } />\r\n        <rect id='paddleXB'\r\n          width={ pad.x.length } height={ pad.depth }\r\n          x={ pad.x.x } y={ pad.x.bottom.y }\r\n          fill={ this.props.fill } fillOpacity={ pad.x.bottom.display } />\r\n        <rect id='paddleYL'\r\n          width={ pad.depth } height={ pad.y.length }\r\n          x={ pad.y.left.x } y={ pad.y.y }\r\n          fill={ this.props.fill } fillOpacity={pad.y.left.display} />\r\n        <rect id='paddleYR'\r\n          width={ pad.depth } height={ pad.y.length }\r\n          x={ pad.y.right.x } y={ pad.y.y }\r\n          fill={ this.props.fill } fillOpacity={pad.y.right.display} />\r\n      </svg>\r\n    )\r\n  }\r\n}\r\n\r\nclass Score extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n        score: 0,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='score' style={styles.score}>\r\n        {this.props.score}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  score: {\r\n    fontSize: '6vh',\r\n    color: '#eee',\r\n    textAlign: 'center',\r\n    zIndex: 3,\r\n    position: 'absolute',\r\n  },\r\n}\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}