(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,s){e.exports=s(21)},16:function(e,t,s){},19:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),l=s(8),o=s.n(l),i=(s(16),s(9)),r=s(2),c=s(3),d=s(5),h=s(4),p=s(6),y=s(1),u=s.n(y),x=(s(19),function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(d.a)(this,Object(h.a)(t).call(this,e))).getScore=function(e){s.setState({score:e})},s.state={},s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("span",{id:"view"},n.a.createElement(v,{fill:"#eeeeee",score:this.getScore}),n.a.createElement(m,{score:this.state.score}))}}]),t}(a.Component)),v=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(d.a)(this,Object(h.a)(t).call(this,e))).setSvg=function(){var e=window.innerWidth,t=window.innerHeight,a=u()(s.state.svg,{w:{$set:e},h:{$set:t},box:{$set:[0,0,e,t].join(" ")},size:{$set:Math.sqrt(e*e+t*t)}});s.setState({svg:a})},s.setCell=function(){var e=.8*s.state.svg.w,t=.8*s.state.svg.h,a=u()(s.state.cell,{w:{$set:e},h:{$set:t},x:{$set:(s.state.svg.w-e)/2},y:{$set:(s.state.svg.h-t)/2}});s.setState({cell:a})},s.setPaddles=function(){var e=s.state.svg,t=s.state.cell,a=e.size/100,n=u()(s.state.paddles,{depth:{$set:a},x:{length:{$set:e.w*(1/9)},top:{y:{$set:t.y},display:{$set:"none"}},bottom:{y:{$set:t.y+t.h-a},display:{$set:"none"}}},y:{length:{$set:e.h*(1/9)},left:{x:{$set:t.x},display:{$set:"none"}},right:{x:{$set:t.x+t.w-a},display:{$set:"none"}}}});s.setState({paddles:n})},s.pickPaddles=function(){var e,t=function e(t,s){s=void 0===s?t:s;for(var a=[],n=0;n<4;n++)a.push(Math.round(Math.random()));var l=a.reduce(function(e,t){return e+t});return t<=l&&l<=s?a:e(t,s)};e=":("===s.state.score?[0,0,0,0]:s.state.score<2?[0,1,0,0]:s.state.score<5?t(1):s.state.score<6?t(2):s.state.score<7?t(1,2):s.state.score<15?t(2,3):t(3,4);var a=u()(s.state.paddles,{x:{top:{display:{$set:e[0]?"on":"none"}},bottom:{display:{$set:e[1]?"on":"none"}}},y:{left:{display:{$set:e[2]?"on":"none"}},right:{display:{$set:e[3]?"on":"none"}}}});s.setState({paddles:a})},s.setBall=function(){var e=s.state.svg,t=u()(s.state.ball,{x:{$set:e.w/2},y:{$set:e.h/2},r:{$set:e.size/100},dx:{$set:e.size/500},dy:{$set:e.size/500}});s.setState({ball:t})},s.moveBall=function(){var e,t=s.state.cell,a=s.state.ball,n=s.state.paddles,l=a.dx,o=a.dy,i=s.state.score;a.x+l-a.r<t.x||a.x+a.dx+a.r>t.x+t.w?l*=-1:a.y+o-a.r<t.y||a.y+a.r+a.dy>t.y+t.h?o*=-1:a.y-a.r+o<=t.y+n.depth&&"none"!==n.x.top.display||a.y+a.r+o>=t.y+t.h-n.depth&&"none"!==n.x.bottom.display?n.x.x<=a.x+a.r+l&&a.x-a.r+l<=n.x.x+n.x.length?(o*=-1,i+=1,s.props.score(i),s.pickPaddles()):(o=0,i=":(",s.props.score(i)):(a.x-a.r+l<=t.x+n.depth&&"none"!==n.y.left.display||a.x+a.r+l>=t.x+t.w-n.depth&&"none"!==n.y.right.display)&&(n.y.y<=a.y+a.r+l&&a.y-a.r+o<=n.y.y+n.y.length?(l*=-1,i+=1,s.props.score(i),s.pickPaddles()):(l=0,i=":(",s.props.score(i))),e=u()(a,{dx:{$set:l},dy:{$set:o}});var r=u()(e,{x:{$set:a.x+a.dx},y:{$set:a.y+a.dy}});s.setState({ball:r,score:i})},s.movePaddles=function(e){var t=s.state.cell,a=s.state.paddles,n=a.x.length/2,l=a.y.length/2,o=t.x+t.w-n,r=t.y+t.h-l,c="mousemove"!==e.type?[e.touches.clientX,e.touches.clientY]:[e.clientX,e.clientY],d=Object(i.a)(c,2),h=d[0],p=d[1];h=h<t.x+n?t.x:h>o?o-n:h-n,p=p<t.y+l?t.y:p>r?r-l:p-l;var y=u()(a,{x:{x:{$set:h}},y:{y:{$set:p}}});s.setState({paddles:y})},s.setGame=function(){s.props.score("hit the ball"),s.setState({score:0}),s.setSvg(),setTimeout(s.setCell),setTimeout(s.setBall),setTimeout(s.setPaddles,1)},s.handleClick=function(){"x"===s.state.score?s.setGame():s.pickPaddles()},s.state={svg:{},cell:{},paddles:{x:{top:{},bottom:{}},y:{left:{},right:{}}},ball:{},score:0},s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setGame(),window.addEventListener("resize",this.setGame),window.setInterval(this.moveBall,10),window.addEventListener("mousemove",this.movePaddles)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"componentDidUpdate",value:function(){":("===this.state.score&&(this.pickPaddles(),this.setState({score:"x"}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setGame),window.clearInterval(window.setInterval(this.moveBall,10))}},{key:"render",value:function(){var e=this.state,t=this.state.paddles;return n.a.createElement("svg",{width:e.svg.w,height:e.svg.h,viewBox:e.svg.box,onClick:this.handleClick},n.a.createElement("rect",{id:"cell",width:e.cell.w,height:e.cell.h,x:e.cell.x,y:e.cell.y}),n.a.createElement("circle",{id:"ball",cx:e.ball.x,cy:e.ball.y,r:e.ball.r,fill:this.props.fill}),n.a.createElement("rect",{id:"paddleXT",display:t.x.top.display,width:t.x.length,height:t.depth,x:t.x.x,y:t.x.top.y,fill:this.props.fill}),n.a.createElement("rect",{id:"paddleXB",display:t.x.bottom.display,width:t.x.length,height:t.depth,x:t.x.x,y:t.x.bottom.y,fill:this.props.fill}),n.a.createElement("rect",{id:"paddleYL",display:t.y.left.display,width:t.depth,height:t.y.length,x:t.y.left.x,y:t.y.y,fill:this.props.fill}),n.a.createElement("rect",{id:"paddleYR",display:t.y.right.display,width:t.depth,height:t.y.length,x:t.y.right.x,y:t.y.y,fill:this.props.fill}))}}]),t}(a.Component),m=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={score:0},s}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"score",style:f.score},this.props.score)}}]),t}(a.Component),f={score:{fontSize:"6vh",color:"#eee",textAlign:"center",zIndex:3,position:"absolute"}},w=x;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.d5479f03.chunk.js.map