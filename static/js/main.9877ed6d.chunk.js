(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,s){},18:function(e,t,s){},20:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),l=s(8),i=s.n(l),o=(s(15),s(2)),r=s(3),c=s(5),d=s(4),h=s(6),p=s(1),y=s.n(p),u=function(e){function t(e){var s;return Object(o.a)(this,t),(s=Object(c.a)(this,Object(d.a)(t).call(this,e))).setSvg=function(){var e=window.innerWidth,t=window.innerHeight,a=y()(s.state.svg,{w:{$set:e},h:{$set:t},box:{$set:[0,0,e,t].join(" ")},size:{$set:Math.sqrt(e*e+t*t)}});s.setState({svg:a})},s.setCell=function(){var e=.8*s.state.svg.w,t=.8*s.state.svg.h,a=y()(s.state.cell,{w:{$set:e},h:{$set:t},x:{$set:(s.state.svg.w-e)/2},y:{$set:(s.state.svg.h-t)/2}});s.setState({cell:a})},s.setPaddles=function(){var e=s.state.svg,t=s.state.cell,a=e.size/100,n=y()(s.state.paddles,{depth:{$set:a},x:{length:{$set:e.w*(1/9)},top:{y:{$set:t.y}},bottom:{y:{$set:t.y+t.h-a}}},y:{length:{$set:e.h*(1/9)},left:{x:{$set:t.x}},right:{x:{$set:t.x+t.w-a}}}});s.setState({paddles:n})},s.pickPaddles=function(){var e,t=function e(t,s){s=void 0===s?t:s;for(var a=[],n=0;n<4;n++)a.push(Math.round(Math.random()));var l=a.reduce(function(e,t){return e+t});return t<=l&&l<=s?a:e(t,s)};e=":("===s.state.score?[0,0,0,0]:s.state.score<2?[0,1,0,0]:s.state.score<5?t(1):s.state.score<6?t(2):s.state.score<7?t(1,2):s.state.score<15?t(2,3):t(3,4);var a=y()(s.state.paddles,{x:{top:{display:{$set:e[0]?1:0}},bottom:{display:{$set:e[1]?1:0}}},y:{left:{display:{$set:e[2]?1:0}},right:{display:{$set:e[3]?1:0}}}});s.setState({paddles:a})},s.setBall=function(){var e=s.state.svg,t=y()(s.state.ball,{x:{$set:e.w/2},y:{$set:e.h/2},r:{$set:e.size/100},dx:{$set:e.size/500},dy:{$set:e.size/500}});s.setState({ball:t})},s.moveBall=function(){var e,t=s.state.cell,a=s.state.ball,n=s.state.paddles,l=a.dx,i=a.dy,o=s.state.score;a.x+l-a.r<t.x||a.x+a.dx+a.r>t.x+t.w?l*=-1:a.y+i-a.r<t.y||a.y+a.r+a.dy>t.y+t.h?i*=-1:a.y-a.r+i<=t.y+n.depth&&n.x.top.display>0||a.y+a.r+i>=t.y+t.h-n.depth&&n.x.bottom.display>0?n.x.x<=a.x+a.r+l&&a.x-a.r+l<=n.x.x+n.x.length?(i*=-1,o+=1,s.props.score(o),s.pickPaddles()):(i=0,o=":(",s.props.score(o)):(a.x-a.r+l<=t.x+n.depth&&n.y.left.display>0||a.x+a.r+l>=t.x+t.w-n.depth&&n.y.right.display>0)&&(n.y.y<=a.y+a.r+l&&a.y-a.r+i<=n.y.y+n.y.length?(l*=-1,o+=1,s.props.score(o),s.pickPaddles()):(l=0,o=":(",s.props.score(o))),e=y()(a,{dx:{$set:l},dy:{$set:i}});var r=y()(e,{x:{$set:a.x+a.dx},y:{$set:a.y+a.dy}});s.setState({ball:r,score:o})},s.movePaddles=function(e){var t=s.state.cell,a=s.state.paddles,n=a.x.length/2,l=a.y.length/2,i=t.x+t.w-n,o=t.y+t.h-l,r=e.clientX,c=e.clientY;r=r<t.x+n?t.x:r>i?i-n:r-n,c=c<t.y+l?t.y:c>o?o-l:c-l;var d=y()(a,{x:{x:{$set:r}},y:{y:{$set:c}}});return s.setState({paddles:d}),!1},s.touchPaddles=function(e){var t=s.state.cell,a=s.state.paddles,n=a.x.length/2,l=a.y.length/2,i=t.x+t.w-n,o=t.y+t.h-l,r=e.touches.clientX,c=e.touches.clientY;r=r<t.x+n?t.x:r>i?i-n:r-n,c=c<t.y+l?t.y:c>o?o-l:c-l;var d=y()(a,{x:{x:{$set:r}},y:{y:{$set:c}}});return s.setState({paddles:d}),!1},s.setGame=function(){s.props.score("hit the ball"),s.setState({score:0}),s.sizeGame()},s.sizeGame=function(){s.setSvg(),setTimeout(s.setCell),setTimeout(s.setBall),setTimeout(s.setPaddles,1)},s.handleClick=function(){"x"===s.state.score?s.setGame():s.pickPaddles()},s.state={svg:{},cell:{},paddles:{x:{top:{display:0},bottom:{display:0}},y:{left:{display:0},right:{display:0}}},ball:{}},s}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setGame(),window.addEventListener("resize",this.sizeGame),window.addEventListener("mousemove",this.movePaddles),window.addEventListener("touchmove",this.touchPaddles),window.setInterval(this.moveBall,10)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"componentDidUpdate",value:function(){":("===this.state.score&&(this.pickPaddles(),this.setState({score:"x"}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.sizeGame),window.removeEventListener("mousemove",this.movePaddles),window.removeEventListener("touchmove",this.touchPaddles),window.clearInterval(window.setInterval(this.moveBall,10))}},{key:"render",value:function(){var e=this.state,t=this.state.paddles;return n.a.createElement("svg",{width:e.svg.w,height:e.svg.h,viewBox:e.svg.box,onClick:this.handleClick},n.a.createElement("rect",{id:"cell",width:e.cell.w,height:e.cell.h,x:e.cell.x,y:e.cell.y}),n.a.createElement("circle",{id:"ball",cx:e.ball.x,cy:e.ball.y,r:e.ball.r,fill:this.props.fill}),n.a.createElement("rect",{id:"paddleXT",width:t.x.length,height:t.depth,x:t.x.x,y:t.x.top.y,fill:this.props.fill,fillOpacity:t.x.top.display}),n.a.createElement("rect",{id:"paddleXB",width:t.x.length,height:t.depth,x:t.x.x,y:t.x.bottom.y,fill:this.props.fill,fillOpacity:t.x.bottom.display}),n.a.createElement("rect",{id:"paddleYL",width:t.depth,height:t.y.length,x:t.y.left.x,y:t.y.y,fill:this.props.fill,fillOpacity:t.y.left.display}),n.a.createElement("rect",{id:"paddleYR",width:t.depth,height:t.y.length,x:t.y.right.x,y:t.y.y,fill:this.props.fill,fillOpacity:t.y.right.display}))}}]),t}(a.Component),x=(s(18),function(e){function t(e){var s;return Object(o.a)(this,t),(s=Object(c.a)(this,Object(d.a)(t).call(this,e))).getScore=function(e){s.setState({score:e})},s.state={},s}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("span",{id:"view"},n.a.createElement(v,null),n.a.createElement(u,{fill:"#eeeeee",score:this.getScore}),n.a.createElement(m,{score:this.state.score}))}}]),t}(a.Component)),v=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("span",{class:"unselect",style:f.input})}}]),t}(a.Component),m=function(e){function t(e){var s;return Object(o.a)(this,t),(s=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={score:0},s}return Object(h.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("span",{id:"score",class:"unselect",style:f.score},this.props.score)}}]),t}(a.Component),f={score:{fontSize:"6vh",color:"#eee",textAlign:"center",zIndex:3,position:"absolute"},input:{width:"100%",height:"100%",position:"absolute",backgroundColor:"cyan",opacity:.3,zIndex:5}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,s){e.exports=s(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.9877ed6d.chunk.js.map