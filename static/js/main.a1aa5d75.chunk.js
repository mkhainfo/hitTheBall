(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,s){e.exports=s(21)},16:function(e,t,s){},19:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),o=s(8),i=s.n(o),l=(s(16),s(9)),r=s(2),d=s(3),c=s(5),h=s(4),p=s(6),y=s(1),u=s.n(y),v=(s(19),function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).getScore=function(e){s.setState({score:e})},s.state={},s}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("span",{id:"view"},a.a.createElement(x,{fill:"#eeeeee",score:this.getScore}),a.a.createElement(m,{score:this.state.score}))}}]),t}(n.Component)),x=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).setSvg=function(){var e=window.innerWidth,t=window.innerHeight,n=u()(s.state.svg,{w:{$set:e},h:{$set:t},box:{$set:[0,0,e,t].join(" ")},size:{$set:Math.sqrt(e*e+t*t)}});s.setState({svg:n})},s.setCell=function(){var e=.8*s.state.svg.w,t=.8*s.state.svg.h,n=u()(s.state.cell,{w:{$set:e},h:{$set:t},x:{$set:(s.state.svg.w-e)/2},y:{$set:(s.state.svg.h-t)/2}});s.setState({cell:n})},s.setPaddles=function(){var e=s.state.svg,t=s.state.cell,n=e.size/100,a=u()(s.state.paddles,{depth:{$set:n},x:{length:{$set:e.w*(1/9)},top:{y:{$set:t.y}},bottom:{y:{$set:t.y+t.h-n}}},y:{length:{$set:e.h*(1/9)},left:{x:{$set:t.x}},right:{x:{$set:t.x+t.w-n}}}});s.setState({paddles:a})},s.pickPaddles=function(){var e,t=function e(t,s){s=void 0===s?t:s;for(var n=[],a=0;a<4;a++)n.push(Math.round(Math.random()));var o=n.reduce(function(e,t){return e+t});return t<=o&&o<=s?n:e(t,s)};e=":("===s.state.score?[0,0,0,0]:s.state.score<2?[0,1,0,0]:s.state.score<5?t(1):s.state.score<6?t(2):s.state.score<7?t(1,2):s.state.score<15?t(2,3):t(3,4);var n=u()(s.state.paddles,{x:{top:{display:{$set:e[0]?"on":"none"}},bottom:{display:{$set:e[1]?"on":"none"}}},y:{left:{display:{$set:e[2]?"on":"none"}},right:{display:{$set:e[3]?"on":"none"}}}});s.setState({paddles:n})},s.setBall=function(){var e=s.state.svg,t=u()(s.state.ball,{x:{$set:e.w/2},y:{$set:e.h/2},r:{$set:e.size/100},dx:{$set:e.size/500},dy:{$set:e.size/500}});s.setState({ball:t})},s.moveBall=function(){var e,t=s.state.cell,n=s.state.ball,a=s.state.paddles,o=n.dx,i=n.dy,l=s.state.score;n.x+o-n.r<t.x||n.x+n.dx+n.r>t.x+t.w?o*=-1:n.y+i-n.r<t.y||n.y+n.r+n.dy>t.y+t.h?i*=-1:n.y-n.r+i<=t.y+a.depth&&"none"!==a.x.top.display||n.y+n.r+i>=t.y+t.h-a.depth&&"none"!==a.x.bottom.display?a.x.x<=n.x+n.r+o&&n.x-n.r+o<=a.x.x+a.x.length?(i*=-1,l+=1,s.props.score(l),s.pickPaddles()):(i=0,l=":(",s.props.score(l)):(n.x-n.r+o<=t.x+a.depth&&"none"!==a.y.left.display||n.x+n.r+o>=t.x+t.w-a.depth&&"none"!==a.y.right.display)&&(a.y.y<=n.y+n.r+o&&n.y-n.r+i<=a.y.y+a.y.length?(o*=-1,l+=1,s.props.score(l),s.pickPaddles()):(o=0,l=":(",s.props.score(l))),e=u()(n,{dx:{$set:o},dy:{$set:i}});var r=u()(e,{x:{$set:n.x+n.dx},y:{$set:n.y+n.dy}});s.setState({ball:r,score:l})},s.movePaddles=function(e){var t=s.state.cell,n=s.state.paddles,a=n.x.length/2,o=n.y.length/2,i=t.x+t.w-a,r=t.y+t.h-o,d="mousemove"===e.type?[e.clientX,e.clientY]:[e.touches.clientX,e.touches.clientY],c=Object(l.a)(d,2),h=c[0],p=c[1];h=h<t.x+a?t.x:h>i?i-a:h-a,p=p<t.y+o?t.y:p>r?r-o:p-o;var y=u()(n,{x:{x:{$set:h}},y:{y:{$set:p}}});return s.setState({paddles:y}),!1},s.setGame=function(){s.props.score("hit the ball"),s.setState({score:0}),s.sizeGame()},s.sizeGame=function(){s.setSvg(),setTimeout(s.setCell),setTimeout(s.setBall),setTimeout(s.setPaddles,1)},s.handleClick=function(){"x"===s.state.score?s.setGame():s.pickPaddles()},s.state={svg:{},cell:{},paddles:{x:{top:{display:"none"},bottom:{display:"none"}},y:{left:{display:"none"},right:{display:"none"}}},ball:{},score:0},s}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setGame(),window.addEventListener("resize",this.sizeGame),window.addEventListener("mousemove",this.movePaddles),window.addEventListener("touchmove",this.movePaddles),window.setInterval(this.moveBall,10)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"componentDidUpdate",value:function(){":("===this.state.score&&(this.pickPaddles(),this.setState({score:"x"}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.sizeGame),window.removeEventListener("mousemove",this.movePaddles),window.removeEventListener("touchmove",this.movePaddles),window.clearInterval(window.setInterval(this.moveBall,10))}},{key:"render",value:function(){var e=this.state,t=this.state.paddles;return a.a.createElement("svg",{width:e.svg.w,height:e.svg.h,viewBox:e.svg.box,onClick:this.handleClick},a.a.createElement("rect",{id:"cell",width:e.cell.w,height:e.cell.h,x:e.cell.x,y:e.cell.y}),a.a.createElement("circle",{id:"ball",cx:e.ball.x,cy:e.ball.y,r:e.ball.r,fill:this.props.fill}),a.a.createElement("rect",{id:"paddleXT",display:t.x.top.display,width:t.x.length,height:t.depth,x:t.x.x,y:t.x.top.y,fill:this.props.fill}),a.a.createElement("rect",{id:"paddleXB",display:t.x.bottom.display,width:t.x.length,height:t.depth,x:t.x.x,y:t.x.bottom.y,fill:this.props.fill}),a.a.createElement("rect",{id:"paddleYL",display:t.y.left.display,width:t.depth,height:t.y.length,x:t.y.left.x,y:t.y.y,fill:this.props.fill}),a.a.createElement("rect",{id:"paddleYR",display:t.y.right.display,width:t.depth,height:t.y.length,x:t.y.right.x,y:t.y.y,fill:this.props.fill}))}}]),t}(n.Component),m=function(e){function t(e){var s;return Object(r.a)(this,t),(s=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={score:0},s}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"score",style:w.score},this.props.score)}}]),t}(n.Component),w={score:{fontSize:"6vh",color:"#eee",textAlign:"center",zIndex:3,position:"absolute"}},f=v;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.a1aa5d75.chunk.js.map